apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mykadoo.fullname" . }}-secret
  labels:
    {{- include "mykadoo.labels" . | nindent 4 }}
type: Opaque
data:
  # Database credentials
  {{- if .Values.postgresql.auth.password }}
  database_url: {{ printf "postgresql://%s:%s@%s-postgresql:5432/%s" .Values.postgresql.auth.username .Values.postgresql.auth.password (include "mykadoo.fullname" .) .Values.postgresql.auth.database | b64enc | quote }}
  postgres_password: {{ .Values.postgresql.auth.password | b64enc | quote }}
  {{- end }}

  # Redis credentials
  {{- if .Values.redis.auth.password }}
  redis_password: {{ .Values.redis.auth.password | b64enc | quote }}
  {{- end }}

  # JWT secrets (should be provided via CI/CD or external secrets)
  # jwt_secret: <base64-encoded-secret>
  # jwt_refresh_secret: <base64-encoded-secret>

  # AI/ML API keys (should be provided via CI/CD or external secrets)
  # openai_api_key: <base64-encoded-key>
  # anthropic_api_key: <base64-encoded-key>
  # pinecone_api_key: <base64-encoded-key>

  # Affiliate platform API keys (should be provided via CI/CD or external secrets)
  # amazon_access_key: <base64-encoded-key>
  # amazon_secret_key: <base64-encoded-key>
  # shareasale_api_token: <base64-encoded-token>
  # cj_api_key: <base64-encoded-key>

  # OAuth secrets (should be provided via CI/CD or external secrets)
  # google_client_secret: <base64-encoded-secret>
  # facebook_app_secret: <base64-encoded-secret>

  # Monitoring secrets (should be provided via CI/CD or external secrets)
  # sentry_dsn: <base64-encoded-dsn>
  # dd_api_key: <base64-encoded-key>
